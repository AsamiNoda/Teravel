<h1>T+eravel passport</h1>
<p>登録情報</p>
<div class="clearfix">
  <div class="pull-left">
    <%= attachment_image_tag @user, :profile_image, format: "jpeg", fallback: "no_image.jpg", size:"200x200" %>
  </div>
  <div class="pull-left">
  <%= @user.introduction %>
  <%= @user.name %>
  <%= @user.birthyear %> 年生まれ
  <% if @user == current_user %>
    <%= link_to "", edit_user_path(@user), class: "fas fa-user-edit" %>

  <% end %>
  <p>投稿数：<%= @user.posts.count %></p>
  <p>フォロー：<%= link_to @user.follower.count, user_follows_path(@user) %>　フォロワー：<%= link_to @user.followed.count, user_followers_path(@user) %></p>

  <!-- フォローボタン -->
  <% if current_user != @user %>
    <% if current_user.following?(@user) %>
      <%= link_to 'フォロー外す', user_relationships_path(@user), method: :delete, class: "btn btn-primary" %>
    <% else %>
      <%= link_to 'フォローする', user_relationships_path(@user), method: :POST, class: "btn btn-success" %>
    <% end %>
  <% end %>

  </div>
</div>
<div class="clearfix">
<!-- タブ・メニュー -->
<ul class="nav nav-tabs">
  <li class="active"><a href="#sampleContentA" data-toggle="tab">Post <i class="fas fa-user"></i></a></li>
  <% if @user == current_user %>
    <li><a href="#sampleContentB" data-toggle="tab">Favorite <i class="fas fa-globe"></i></i></a></li>
    <li><a href="#sampleContentC" data-toggle="tab">Bookmark <i class="fas fa-book-open"></i></a></li>
    <li><a href="#sampleContentD" data-toggle="tab">Follower's posts <i class="fas fa-user-friends"></i></a></li>
  <% end %>
</ul>

<!-- タブ内容 -->
<div class="tab-content">
  <div class="tab-pane active" id="sampleContentA">
    <% if @posts.exists? %>
      <%= render 'posts/index',posts: @posts %>
    <% else %>
      <p>現在登録の写真はありません。</br>
          <% if @user == current_user %>
            今すぐ<%= link_to "新規投稿", new_post_path %>しよう！
          <% end %>
      </p>
    <% end %>
  </div>

  <% if @user == current_user %>
    <div class="tab-pane" id="sampleContentB">
      <% if current_user.favorite_posts.exists? %>
        <%= render 'posts/index',posts: current_user.favorite_posts %>
      <% else %>
        <p>お気に入り<i class="fas fa-globe"></i></i>の写真を見つけよう！</br>
            <%= link_to "投稿一覧ページ", posts_path %>を確認する
        </p>
      <% end %>
    </div>
    <div class="tab-pane" id="sampleContentC">
      <% if current_user.bookmark_posts.exists? %>
        <%= render 'posts/index',posts: current_user.bookmark_posts %>
      <% else %>
              <p>後で確認したい写真を保存<i class="fas fa-book-open"></i>しよう！</br>
            <%= link_to "投稿一覧ページ", posts_path %>を確認する
        </p>
      <% end %>
    </div>
    <div class="tab-pane" id="sampleContentD">
      <% if current_user.follower.exists? %>
        <%= render 'posts/index',posts: @follower_posts %>
      <% else %>
        <p>フォロー<i class="fas fa-user-friends"></i>したいユーザーを見つけよう！</br>
            <%= link_to "投稿一覧ページ", posts_path %>を確認する
        </p>
      <% end %>
    </div>
  <% end %>

</div>

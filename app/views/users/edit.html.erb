<div class="container">
	<h2>登録情報編集</h2>

		<%= form_for(@user) do |f| %>
		    <div class="field">
		      <%= attachment_image_tag @user, :profile_image, id: :img_prev, fallback: "no_image.jpg", size:"300x300" %>
		      <%= f.attachment_field :profile_image, id: :image %>
		    </div>
		     <div class="field">
		      <%= f.label :name %><br />
		      <%= f.text_field :name, autofocus: true, autocomplete: "name", class: "form-control" %>
		    </div>

			  <div class="field">
			    <%= f.label :introduction %><br>
			    <%= f.text_area :introduction, autofocus: true, autocomplete: "introduction", class: "form-control"   %>
			  </div>

			  <div class="field">
			    <%= f.label :birthyear %><br>
			    <%= f.text_field :birthyear, autofocus: true, autocomplete: "birthyear", class: "form-control"   %>
			  </div>

			  <div class="field">
			    <%= f.label :email %><br>
			    <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control"   %>
			  </div>
		    <div class="actions pull-right">
		      <%= f.submit "更新する", class: "btn btn-primary" %>
		    </div>
		 <% end %>
</div>

 <!-- アップロードしたばかりの画像のプレビューを表示する-->
<script type="text/javascript">
$(function() {
 function readURL(input) {
   if (input.files && input.files[0]) {
     var reader = new FileReader();
     reader.onload = function (e) {
       $('#img_prev').attr('src', e.target.result);
     }
     reader.readAsDataURL(input.files[0]);
   }
 }
 $("#image").change(function(){
   readURL(this);
 });
});
</script>


